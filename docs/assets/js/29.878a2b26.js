(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{274:function(t,a,s){"use strict";s.r(a);var n=s(28),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"小程序遇到的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序遇到的问题"}},[t._v("#")]),t._v(" 小程序遇到的问题")]),t._v(" "),s("h2",{attrs:{id:"小程序不能分享到朋友圈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小程序不能分享到朋友圈"}},[t._v("#")]),t._v(" 小程序不能分享到朋友圈")]),t._v(" "),s("p",[t._v("利用canvs绘制一张带有二维码的图片，提示用户保存图片，然后分享")]),t._v(" "),s("h2",{attrs:{id:"https部署以及设置合法域名。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https部署以及设置合法域名。"}},[t._v("#")]),t._v(" https部署以及设置合法域名。")]),t._v(" "),s("p",[t._v("1.小程序向后台请求接口必须使用https，包括web-view里的网页，如果项目中有用到web socket，那么也必须使用wss协议。https证书一般会用第三方的。比如阿里云的。\n2.在微信小程序管理后台，还需要配置合法域名。当然，在后台还没有部署https之前，我们也可以进行开发调试，只需要设置不校验合法域名，https证书等即可。")]),t._v(" "),s("h2",{attrs:{id:"post请求，json数据格式转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#post请求，json数据格式转换"}},[t._v("#")]),t._v(" post请求，json数据格式转换")]),t._v(" "),s("p",[t._v("当我们向后台进行post请求的时候，当我们的传输数据的格式为json的时候，需要设置")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content-type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),t._v(" \n")])])]),s("h2",{attrs:{id:"微信小程序谁是首页的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序谁是首页的问题"}},[t._v("#")]),t._v(" 微信小程序谁是首页的问题")]),t._v(" "),s("p",[t._v("当我们在开发原生应用的时候，我们一般会在程序的入口，设置我们程序的第一个页面，但是反观小程序，并没有找到类似的方法，原来在小程序中，app.json文件中的pages数据的第一个元素，就是首页。但是，我们有时候会有这样的需求，微信扫码直接跳转小程序内部的指定页面，那么，这时，只需要在小程序管理后台，设置扫码打开的页面路径填好即可。")]),t._v(" "),s("h2",{attrs:{id:"微信小程序开发单位问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序开发单位问题"}},[t._v("#")]),t._v(" 微信小程序开发单位问题")]),t._v(" "),s("p",[t._v("我们再开发iOS的时候默认使用pt；在开发Android的时候，我们使用dp,sp等单位；在开发web的时候使用em,rem等单位。但是在我们的小程序里我们只要记住rpx这一个单位就好了，这样我们开发出来的小程序就完美的运行在各式各样屏幕的手机上了。no!no!no，也是有特殊情况的，有时候我们就不能使用rpx，比如使用到canvas的时候，那么就只能使用px为单位，那么，如何做到屏幕适配呢？我的做法是使用wx.getSystemInfo这个api来获取到运行手机的屏幕的宽度和高度，那么根据UI的标注图的屏幕宽高，就可以换算出一个比例来了。如果大家有更好的做法欢迎交流指正。")]),t._v(" "),s("h2",{attrs:{id:"wxss文件中不支持本地图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wxss文件中不支持本地图片"}},[t._v("#")]),t._v(" wxss文件中不支持本地图片")]),t._v(" "),s("p",[t._v("如果我们有一个需求：添加一张背景图，根据web开发思维，肯定是在background-image:中设置本地图片的路径，但是在微信小程序上这是行不通的。微信小程序的background-image只支持网络图片。")]),t._v(" "),s("h2",{attrs:{id:"this-setdata和直接赋值的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#this-setdata和直接赋值的区别"}},[t._v("#")]),t._v(" this.setData和直接赋值的区别")]),t._v(" "),s("p",[t._v("这两者都可以造成data里数据的改变，但是this.setData赋值才会造成wxml里面数据的改变，也就是同步更新渲染界面，而直接赋值只会让data里数据发生变化，但是界面并不会改变。看代码：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//wxml文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我的名字是"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//js文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据源")]),t._v("\ndata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//只会使data里数据发送改变，但是界面不会发生改变，界面仍显示”我的名字是“")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//打印出来的结果是”张三“")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此时，界面数据才会发生改变，变成”我的名字是张三“")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"微信小程序不能操作dom树"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序不能操作dom树"}},[t._v("#")]),t._v(" 微信小程序不能操作DOM树")]),t._v(" "),s("p",[t._v("web开发中，可以使用getElementById()访问documnent中的某一个元素，顾名思义，就是通过id来获取元素，但是微信小程序没有windows对象，所以小程序不能直接操作dom树，小程序采用的都是mvvm的设计模式，数据双向绑定。类似于vue.js的写法。")]),t._v(" "),s("h2",{attrs:{id:"配置普通链接二维码规则需要注意的地方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置普通链接二维码规则需要注意的地方"}},[t._v("#")]),t._v(" 配置普通链接二维码规则需要注意的地方")]),t._v(" "),s("p",[t._v("这里有一个地方需要注意。开发小程序的时候，我们有一个使用微信扫码打开指定页面的需求。那么我们需要配置一个普通链接二维码规则，但是我们在开发测试的过程中，我们需要来测试我们的跳转功能是否好用。二维码规则需要发布才可以全网使用，测试链接也是只针对管理员开发者体验着等有效果。小程序后台配置")]),t._v(" "),s("h2",{attrs:{id:"地图导航等功能需要注意的地方"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#地图导航等功能需要注意的地方"}},[t._v("#")]),t._v(" 地图导航等功能需要注意的地方")]),t._v(" "),s("p",[t._v("微信小程序集成地图功能非常简单，但是需要注意的是我们使用的是腾讯地图，也就是gcj02坐标系，如果后台使用的是其他坐标系，那么我们需要转换。如果需要实现导航功能，那么小程序内的map组件是没有这个能力的，我们需要调用wx.openLocation来实现，其实这个api是打开了微信内置的腾讯地图，这样，就是我们熟悉的微信导航服务了，可以在这里打开手机内的百度地图，高德地图，腾讯地图这些app来进行导航了。")]),t._v(" "),s("h2",{attrs:{id:"mpvue的坑，双向数据绑定的时候，有些安卓机会卡顿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mpvue的坑，双向数据绑定的时候，有些安卓机会卡顿"}},[t._v("#")]),t._v(" mpvue的坑，双向数据绑定的时候，有些安卓机会卡顿")]),t._v(" "),s("p",[t._v("可以通过防抖赋值或者v-model.lazy，不使用双向绑定。")]),t._v(" "),s("h2",{attrs:{id:"关于提审上线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于提审上线"}},[t._v("#")]),t._v(" 关于提审上线")]),t._v(" "),s("p",[t._v("根据经验，微信小程序第一个版本上线提审，时间会久一点，可能1-2天，后续版本一般2-3个小时。（工作时间）我感觉微信小程序的审核没有app store那么严格。大家不用太担心~")])])}),[],!1,null,null,null);a.default=e.exports}}]);