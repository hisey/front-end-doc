(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{171:function(t,i,a){},203:function(t,i,a){"use strict";var e=a(171);a.n(e).a},207:function(t,i,a){"use strict";a.r(i);a(52);var e=a(186),n=a.n(e),s={name:"upload",data:function(){return{avatar:"",isLoading:!1}},props:["imgUrl","imgWidth","imgHeight","tip","name","round","action"],computed:{isShowClose:function(){return!!this.avatar}},created:function(){this.avatar=this.imgUrl},watch:{imgUrl:function(t){this.avatar=t}},methods:{postFile:function(t,i){return n.a.post(t,i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){return Promise.resolve(t.data)})},clearValue:function(){this.$refs.avatarInput.value=""},changeImage:function(t){var i=this,a=t.target.files[0];if(a){var e=new FormData;if(!(a.size/1024/1024<8))return this.$message.error("上传的图片大小不能超过 8MB!"),!1;e.append("file",a),this.isLoading=!0,this.postFile(this.action,e).then(function(t){if(i.isLoading=!1,200==t.status&&t.data){var a=t.data;i.avatar=a.url,i.$emit("uploadSuccess",a,i.name)}})}},handleRemove:function(){this.avatar="",this.clearValue(),this.$emit("onRemove",this.name)}}},r=(a(203),a(0)),o=Object(r.a)(s,function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"avatar-box",style:"width:"+t.imgWidth+";border-radius:"+(t.round?"50%":"0")},[a("input",{ref:"avatarInput",staticClass:"input-file",style:"width:"+t.imgWidth+";height:"+t.imgHeight+";",attrs:{type:"file",name:t.name,accept:"image/gif, image/jpeg, image/jpg, image/png"},on:{change:function(i){return t.changeImage(i)}}}),t._v(" "),t.avatar?a("img",{style:"width:"+t.imgWidth+";height: "+t.imgHeight+";border-radius:"+(t.round?"50%":"0"),attrs:{src:t.avatar,alt:""}}):a("div",{staticClass:"add-box",style:"width:"+t.imgWidth+";height: "+t.imgHeight+";line-height:"+t.imgHeight},[t.isLoading?a("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),t.isLoading?t._e():a("i",{staticClass:"el-icon-plus"})]),t._v(" "),t.isShowClose?a("i",{staticClass:"el-icon-circle-close close",on:{click:t.handleRemove}}):t._e()]),t._v(" "),a("p",{staticClass:"tip"},[t._v(t._s(t.tip))])])},[],!1,null,null,null);i.default=o.exports}}]);